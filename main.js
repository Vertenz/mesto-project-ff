(()=>{"use strict";var e=function(e){if(void 0!==e){var t=function(e){(e.target.classList.contains("popup__close")||e.target.classList.contains("popup_is-opened")||"Escape"===e.key)&&n()};e?(window.addEventListener("click",t),window.addEventListener("keydown",t)):(window.removeEventListener("click",t),window.removeEventListener("keydown",t))}},t=function(t){t&&(t.classList.add("popup_is-animated"),window.requestAnimationFrame((function(){t.classList.add("popup_is-opened"),t.classList.remove("popup_is-closed")})),e(!0))},n=function(){var t=document.querySelector(".popup_is-opened");t&&(t.classList.remove("popup_is-opened"),setTimeout((function(){t.classList.remove("popup_is-animated")}),600),e(!1))},o=document.querySelector(".popup_type_image"),r=o.querySelector(".popup__image"),i=o.querySelector(".popup__caption");var c=document.querySelector(".places__list"),s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend",s=function(e){var n=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),c=n.querySelector(".card__image"),s=n.querySelector(".card__title"),a=n.querySelector(".card__delete-button"),d=n.querySelector(".card__like-button");return c.src=e.link,c.alt=e.name,s.textContent=e.name,a.addEventListener("click",(function(){return function(e){e.remove()}(n)})),d.addEventListener("click",(function(){return function(e){e.classList.toggle("card__like-button_is-active")}(d)})),c.addEventListener("click",(function(){return e=c,r.src=e.src,r.alt=e.alt,i.textContent=e.alt,void window.requestAnimationFrame((function(){t(o)}));var e})),n}(e);c[n](s)},a={title:document.querySelector(".profile__title"),description:document.querySelector(".profile__description")},d=document.querySelector(".profile__edit-button"),l=document.querySelector(".popup_type_edit"),p=document.querySelector(".profile__add-button"),u=document.querySelector(".popup_type_new-card"),m=document.forms["edit-profile"],v=document.forms["new-place"];d.addEventListener("click",(function(){var e,n,o;t(l),n=(e=document.forms["edit-profile"]).elements.name,o=e.elements.description,n.value=a.title.textContent||"",o.value=a.description.textContent||""})),p.addEventListener("click",(function(){t(u)})),m.addEventListener("submit",(function(e){e.preventDefault();var t=e.target,o=t.elements.name,r=t.elements.description,i=null==o?void 0:o.value,c=null==r?void 0:r.value;a.title.textContent=i,a.description.textContent=c,n()})),v.addEventListener("submit",(function(e){e.preventDefault();var t=e.target,o=t.elements["place-name"],r=t.elements.link;if(null!=o&&o.value&&null!=r&&r.value){var i={name:o.value,link:r.value};s(i),t.reset(),n()}else console.error("Не удалось найти элементы формы или значения полей")})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){s(e)}))})();